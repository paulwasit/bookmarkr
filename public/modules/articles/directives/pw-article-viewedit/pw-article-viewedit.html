<section class="container-fluid">
	<div>

		<!-- header buttons off edit mode -->
		<ul class="nav navbar-nav ng-animate-disabled" pw-in-header ng-show='authentication.user._id === article.user._id && disableEdit'>
			<li><a ui-sref="app.articles.list">
				<i class="fa fa-arrow-left"></i><span class='hidden-xs'>&nbsp;Back</span>
			</a></li>
			<li><a ng-click="toggleIsPublic()">
				<span ng-show='!article.isPublic'><i class="fa fa-unlock"></i><span class='hidden-xs'>&nbsp;Make Public</span></span>
				<span ng-show='article.isPublic'><i class="fa fa-lock"></i><span class='hidden-xs'>&nbsp;Make Private</span></span>
			</a></li>
			<li><a ng-click="toggleEditMode()">
				<i class="fa fa-pencil"></i><span class='hidden-xs'>&nbsp;Edit</span>
			</a></li>
			<!-- 
			<li><a ng-click="remove()">
				<i class="fa fa-trash"></i><span class='hidden-xs'>&nbsp;Delete</span>
			</a></li>
			-->
		</ul>
		
		<!-- header buttons on edit mode -->
		<ul class="nav navbar-nav ng-animate-disabled" pw-in-header ng-show='authentication.user._id === article.user._id && !disableEdit'>
			<li><a ng-click="toggleEditMode()">
				<i class="fa fa-check"></i><span class='hidden-xs'>&nbsp;Save</span>
			</a></li>
		</ul>
		
	</div>
	
	<div class = "row">
		
		<div class="col-lg-3">
		</div>
		
		<div class="col-lg-6 tab-content">
			
			<!-- 
			<div id='editableTitle' class="margin-top tag-list-header">{{article.title}}</div>
			-->
			
			<div class="tab-pane" ng-repeat="tab in article.content" ng-class="{active: tab.active}">
				
				<div class="row" ng-if='authentication.user._id === article.user._id && !disableEdit'>
					<div class="col-md-12">
						<textarea ui-codemirror="editorOptions" name="tab_edit" ng-model="tab.body" pw-focus-me="isSomething"></textarea>
					</div>				
				</div>
				
				<div class="row" ng-if='disableEdit'>
					<div class="col-md-12">
						<div class="not-codemirror" marked="tab.body"></div>
					</div>
				</div>
				
			</div>
		</div>
			
		<div class="col-lg-2">
			<div class="tag-list">
				
				<!--
				<div class="tag-list-header">
					{{article.title}}
					<span class="float-right" ng-show="authentication.user._id === article.user._id && !disableEdit">
						<span class="glyphicon glyphicon-pencil" aria-hidden="true" ng-click="renameTitle()"></span>
					</span>
				</div>
				-->
				
				<div class="tag-list-item-container">
				
					<div class="tag-list-item" ng-repeat="tab in article.content" ng-click="select(tab)" ng-class="{isActive: tab.active}">
						
						<span class='uppercase'>
							<!--<i class="fa fa-caret-right" aria-hidden="true"></i>&nbsp;&nbsp;-->
							{{tab.title}}
						</span>
						
						<span class="float-right" ng-show="authentication.user._id === article.user._id && !disableEdit">
						
							<span class="glyphicon glyphicon-trash" aria-hidden="true" ng-click="deleteTab(tab)"></span>
							<span class="glyphicon glyphicon-pencil" aria-hidden="true" ng-click="renameTab(tab)"></span>

						</span>
						
						<span class="float-right" ng-show="authentication.user._id === article.user._id && !disableEdit && article.content.length > 1">
							
							<span class="glyphicon glyphicon-open" aria-hidden="true" ng-show="position(tab)!=='first'" ng-click="mergeTabs(tab, 'up')"></span>
							<span class="glyphicon glyphicon-save" aria-hidden="true" ng-show="position(tab)!=='last'" ng-click="mergeTabs(tab, 'down')"></span>
							
							<span class="glyphicon glyphicon-arrow-up" aria-hidden="true" ng-show="position(tab)!=='first'" ng-click="moveTabs(tab, 'up')"></span>
							<span class="glyphicon glyphicon-arrow-down" aria-hidden="true" ng-show="position(tab)!=='last'" ng-click="moveTabs(tab, 'down')"></span>
						
						</span>
						
						<markedtoc toc="tab.body" onclick="select(tab)"></markedtoc>
						
					</div>
							
				</div>
				
				<div class="tag-list-item" ng-show="authentication.user._id === article.user._id && !disableEdit" ng-click="createNewTab()">
					<i class="fa fa-plus"></i>&nbsp&nbspAdd Tab
				</div>
				
			</div>
		</div>
	</div>
	
</section>